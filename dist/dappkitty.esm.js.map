{"version":3,"file":"dappkitty.esm.js","sources":["../src/dappKitty.js"],"sourcesContent":["/**\n * DappKitty: Modular, testable dApp dev toolkit\n * Usage: import { DappKitty } from './src/DappKitty.js';\n */\n\n/**\n * Deep merge utility for config objects.\n */\nexport function deepMerge(target, source) {\n  for (const key in source) {\n    if (\n      source[key] &&\n      typeof source[key] === 'object' &&\n      !Array.isArray(source[key])\n    ) {\n      if (!target[key]) target[key] = {};\n      deepMerge(target[key], source[key]);\n    } else {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\n/**\n * Get DappKitty environment from URL or injected location.\n */\nexport function getDappKittyEnv(location = window?.location) {\n  if (!location) return 'prod';\n  const urlParams = new URLSearchParams(location.search || '');\n  const envParam = urlParams.get('envkitty');\n  if (envParam === 'local') return 'local';\n  if (envParam === 'dev') return 'dev';\n  return 'prod';\n}\n\n/**\n * Main DappKitty class. Accepts config and dependencies for testability.\n */\nexport class DappKitty {\n  /**\n   * @param {Object} config - User config overrides\n   * @param {Window} win - window object (for testing/mocking)\n   * @param {Document} doc - document object (for testing/mocking)\n   */\n  constructor(config = {}, win = window, doc = document) {\n    this.window = win;\n    this.document = doc;\n    this.defaultConfig = {\n      dev: {\n        window: { API_URL: null },\n        theme: { color: 'puzzl-light' },\n        dapp: { logLevel: 'kitty' }\n      },\n      local: {\n        window: { API_URL: null },\n        theme: { color: 'puzzl-dark' },\n        dapp: { logLevel: 'debug' }\n      },\n      expandIcon: '&#9660;',\n      collapseIcon: '&#9650;',\n      productionUrl: '',\n      targets: {\n        window: win,\n        theme: win.DAPP_THEME ?? {},\n        dapp: win.DAPP_CONFIG ?? {}\n      }\n    };\n    this.env = getDappKittyEnv(win?.location);\n    this.config = this.resolveConfig(config);\n    this.logKitty = this.createLogKitty();\n  }\n\n  /**\n   * Merge user config with defaults for the current env.\n   */\n  resolveConfig(overrides = {}) {\n    const env = this.env;\n    const envOverrides = overrides[env] || overrides;\n    let merged = deepMerge(\n      structuredClone(this.defaultConfig[env] || {}),\n      envOverrides\n    );\n    merged.expandIcon = this.defaultConfig.expandIcon;\n    merged.collapseIcon = this.defaultConfig.collapseIcon;\n    merged.productionUrl = this.defaultConfig.productionUrl;\n    merged.targets = this.defaultConfig.targets;\n    merged.env = env;\n    merged.logLevel = merged.dapp.logLevel || 'debug';\n    return merged;\n  }\n\n  /**\n   * Should DappKitty activate in this environment?\n   */\n  shouldActivate() {\n    if (this.window.location.origin === this.config.productionUrl) return false;\n    return this.config.env === 'dev' || this.config.env === 'local';\n  }\n\n  /**\n   * Initialize LogKitty overlay and patch console/fetch if active.\n   */\n  start() {\n    if (!this.shouldActivate()) return;\n    this.injectLogKittyStyles();\n    this.injectLogKittyPanel();\n    this.applyOverrides();\n    this.patchConsole();\n    this.patchFetch();\n    this.listenForErrors();\n    this.logKittyIntro();\n  }\n\n  /**\n   * Apply config overrides to targets.\n   */\n  applyOverrides() {\n    const targets = this.config.targets || {};\n    for (const key in targets) {\n      if (this.config[key]) {\n        Object.assign(targets[key], this.config[key]);\n      }\n    }\n  }\n\n  /**\n   * Create a logKitty function for this instance.\n   */\n  createLogKitty() {\n    const self = this;\n    function logKitty(message, level = 'debug') {\n      const logLevel = self.config.logLevel;\n      if (logLevel === 'info' && level !== 'info') return;\n      if (logLevel === 'kitty' && !logKitty._directCall) return;\n      const logKittyEl = self.document.getElementById('logKitty');\n      const contentDiv = logKittyEl ? logKittyEl.querySelector('.logKitty-content') : null;\n      let prefix = '';\n      let cssClass = 'logKitty-line';\n      switch (level) {\n        case 'error': prefix = '[ERROR] '; cssClass += ' logKitty-error'; break;\n        case 'warn': prefix = '[WARN] '; cssClass += ' logKitty-warn'; break;\n        case 'debug': prefix = '[DEBUG] '; cssClass += ' logKitty-debug'; break;\n        default: prefix = '[INFO] '; cssClass += ' logKitty-info';\n      }\n      if (contentDiv) {\n        const line = self.document.createElement('div');\n        line.className = cssClass;\n        line.textContent = prefix + message;\n        contentDiv.appendChild(line);\n        contentDiv.scrollTop = contentDiv.scrollHeight;\n      }\n    }\n    // Direct call helpers\n    function directKitty(fn) {\n      return function (...args) {\n        logKitty._directCall = true;\n        fn.apply(null, args);\n        logKitty._directCall = false;\n      };\n    }\n    const wrapped = directKitty(logKitty);\n    wrapped.error = directKitty(msg => wrapped(msg, 'error'));\n    wrapped.warn = directKitty(msg => wrapped(msg, 'warn'));\n    wrapped.info = directKitty(msg => wrapped(msg, 'info'));\n    wrapped.debug = directKitty(msg => wrapped(msg, 'debug'));\n    return wrapped;\n  }\n\n  /**\n   * Inject LogKitty panel into the DOM.\n   */\n  injectLogKittyPanel() {\n    if (!this.document.getElementById('logKitty')) {\n      const logKittyEl = this.document.createElement('div');\n      logKittyEl.id = 'logKitty';\n      this.createLogKittyView(logKittyEl);\n      if (this.document.body.firstChild) {\n        this.document.body.insertBefore(logKittyEl, this.document.body.firstChild);\n      } else {\n        this.document.body.appendChild(logKittyEl);\n      }\n      logKittyEl.classList.add(this.config.theme.color);\n    }\n  }\n\n  /**\n   * Create LogKitty view structure.\n   */\n  createLogKittyView(logKittyEl) {\n    const expandIcon = this.config.expandIcon;\n    const collapseIcon = this.config.collapseIcon;\n    const contentDiv = this.document.createElement('div');\n    contentDiv.className = 'logKitty-content';\n    logKittyEl.appendChild(contentDiv);\n    const toggleBtn = this.document.createElement('button');\n    toggleBtn.id = 'logKitty-toggle';\n    toggleBtn.type = 'button';\n    toggleBtn.innerHTML = expandIcon;\n    toggleBtn.title = 'Expand/collapse log';\n    toggleBtn.onclick = function () {\n      logKittyEl.classList.toggle('collapsed');\n      toggleBtn.innerHTML = logKittyEl.classList.contains('collapsed') ? collapseIcon : expandIcon;\n    };\n    logKittyEl.appendChild(toggleBtn);\n  }\n\n  /**\n   * Inject default styles for LogKitty.\n   */\n  injectLogKittyStyles() {\n    if (!this.document.getElementById('logKitty-styles')) {\n      const style = this.document.createElement('style');\n      style.id = 'logKitty-styles';\n      style.textContent = this.getLogKittyStyles();\n      this.document.head.appendChild(style);\n    }\n  }\n\n  /**\n   * Patch console methods to also log to LogKitty.\n   */\n  patchConsole() {\n    const logKitty = this.logKitty;\n    ['log', 'error', 'warn', 'debug', 'info'].forEach(method => {\n      const original = this.window.console[method];\n      this.window.console[method] = function (...args) {\n        original.apply(this.window.console, args);\n        try {\n          const msg = args.map(a => (typeof a === 'object' ? JSON.stringify(a) : String(a))).join(' ');\n          logKitty._directCall = false;\n          if (typeof logKitty[method] === 'function') {\n            logKitty[method](msg);\n          } else {\n            logKitty(msg, method);\n          }\n        } catch (e) {\n          original.call(this.window.console, '[logKitty failed]', e);\n        }\n      };\n    });\n  }\n\n  /**\n   * Patch fetch to log API calls and errors to LogKitty.\n   */\n  patchFetch() {\n    if (!this.window.fetch || this.window.fetch.__kittyPatched) return;\n    const logKitty = this.logKitty;\n    const originalFetch = this.window.fetch;\n    this.window.fetch = function (...args) {\n      let method = 'GET';\n      let url = '';\n      if (typeof args[0] === 'string') {\n        url = args[0];\n        if (args[1] && args[1].method) method = args[1].method.toUpperCase();\n      } else if (args[0] && args[0].url) {\n        url = args[0].url;\n        if (args[0].method) method = args[0].method.toUpperCase();\n      }\n      let formattedUrl = url;\n      try {\n        const parsed = new URL(url, this.window.location.origin);\n        formattedUrl = `${parsed.origin}${parsed.pathname}`;\n      } catch (e) {}\n      logKitty.info(`[fetch] ${method} ${formattedUrl}`);\n      return originalFetch.apply(this, args)\n        .then(response => {\n          let resUrl = response.url;\n          try {\n            const parsed = new URL(resUrl, this.window.location.origin);\n            resUrl = `${parsed.origin}${parsed.pathname}`;\n          } catch (e) {}\n          logKitty.debug(`[fetch] Response: ${response.status} ${response.statusText} for ${resUrl}`);\n          return response;\n        })\n        .catch(error => {\n          logKitty.error(`[fetch] Error: ${error} for ${method} ${formattedUrl}`);\n          throw error;\n        });\n    };\n    this.window.fetch.__kittyPatched = true;\n  }\n\n  /**\n   * Listen for uncaught errors and unhandled promise rejections.\n   */\n  listenForErrors() {\n    const logKitty = this.logKitty;\n    this.window.addEventListener('error', function(event) {\n      logKitty.error(`[window.error] ${event.message} at ${event.filename}:${event.lineno}:${event.colno}`);\n    });\n    this.window.addEventListener('unhandledrejection', function(event) {\n      logKitty.error(`[unhandledrejection] ${event.reason}`);\n    });\n  }\n\n  /**\n   * Print an intro message and mascot to LogKitty.\n   */\n  logKittyIntro() {\n    const logKittyEl = this.document.getElementById('logKitty');\n    if (!logKittyEl) return;\n    const contentDiv = logKittyEl.querySelector('.logKitty-content');\n    if (!contentDiv) return;\n    const catWrapper = this.document.createElement('div');\n    catWrapper.id = 'dappkitty-cat';\n    catWrapper.innerHTML = `\n<pre>\nLog Kitty Started!\n\nEnvironment: ${this.config.env}\nLog Level: ${this.config.logLevel}\nTheme: ${this.config.theme.color}\n\n      /\\\\_/\\\\\n     ( o.o )\n      > ^ <\nThis cat's got your back.\n</pre>`;\n    contentDiv.appendChild(catWrapper);\n  }\n\n  /**\n   * Get LogKitty CSS styles.\n   */\n  getLogKittyStyles() {\n    return `/* --- LogKitty: Command Line Developer Log --- */\n#logKitty {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  bottom: 0;\n  right: 0;\n  min-height: 2.5em;\n  max-height: 40vh;\n  background: var(--logkitty-bg);\n  color: var(--logkitty-fg);\n  font-family: 'Fira Mono', 'Menlo', 'Consolas', 'Courier New', monospace;\n  font-size: 1.02em;\n  line-height: 1.6;\n  border-top: 2px solid var(--logkitty-border);\n  box-shadow: 0 -2px 12px var(--logkitty-shadow);\n  padding: 1em 1.2em 1em 1.2em;\n  margin: 0;\n  overflow-y: auto;\n  white-space: pre-wrap;\n  word-break: break-all;\n  z-index: 99999;\n  position: fixed;\n  letter-spacing: 0.03em;\n  transition: min-height 0.2s, max-height 0.2s, padding 0.2s, background 0.2s, color 0.2s;\n}\n.logKitty-content {\n  flex: 1 1 auto;\n  overflow-y: auto;\n  width: 100%;\n}\n#logKitty.collapsed {\n  min-height: 0;\n  max-height: 2.5em;\n  overflow-y: hidden;\n  padding-top: 0.2em;\n  padding-bottom: 0.2em;\n  padding-left: 1.2em;\n  padding-right: 1.2em;\n}\n#logKitty #logKitty-toggle {\n  position: absolute;\n  top: 0.5em;\n  right: 1.2em;\n  background: var(--logkitty-toggle-bg);\n  color: var(--logkitty-fg);\n  border: none;\n  border-radius: 3px;\n  font-size: 1.1em;\n  cursor: pointer;\n  z-index: 100000;\n  padding: 0.1em 0.5em;\n  transition: background 0.2s;\n}\n#logKitty #logKitty-toggle:hover {\n  background: var(--logkitty-toggle-hover);\n}\n#logKitty .logKitty-line {\n  display: block;\n  padding: 0.1em 0;\n  border-left: 3px solid #20c964;\n  margin-left: 0.2em;\n  margin-bottom: 0.1em;\n  padding-left: 0.7em;\n  font-size: 1em;\n  background: transparent;\n}\n#logKitty .logKitty-error {\n  color: var(--logkitty-error);\n  background: var(--logkitty-error-bg);\n  border-left: 3px solid var(--logkitty-error);\n}\n#logKitty .logKitty-info {\n  color: var(--logkitty-info);\n  border-left: 3px solid var(--logkitty-info);\n}\n#logKitty .logKitty-warn {\n  color: var(--logkitty-warn);\n  background: var(--logkitty-warn-bg);\n  border-left: 3px solid var(--logkitty-warn);\n}\n#logKitty .logKitty-debug {\n  color: var(--logkitty-debug);\n  opacity: 0.7;\n  border-left: 3px solid var(--logkitty-debug);\n}\n#logKitty .logKitty-timestamp {\n  color: var(--logkitty-timestamp);\n  font-size: 0.92em;\n  margin-right: 0.7em;\n  opacity: 0.7;\n}\n\n/* Puzzl Brand Theme (c) 2025 */\n\n/* Light mode */\n#logKitty.puzzl-light {\n  --logkitty-bg: #fdfdfd;\n  --logkitty-fg: #0b1622;\n  --logkitty-border: #20C9D2;\n  --logkitty-shadow: #0001;\n  --logkitty-error: #F26430; /* Puzzl orange */\n  --logkitty-error-bg: #fff0ea;\n  --logkitty-info: #20C9D2; /* Puzzl teal */\n  --logkitty-info-bg: #e5fafd;\n  --logkitty-warn: #FFD464; /* Puzzl yellow */\n  --logkitty-warn-bg: #fffbe6;\n  --logkitty-debug: #445f63;\n  --logkitty-debug-bg: #eef6f7;\n  --logkitty-timestamp: #4caab7;\n  --logkitty-toggle-bg: #e0e0e0;\n  --logkitty-toggle-hover: #d0d0d0;\n}\n/* Dark mode */\n#logKitty.puzzl-dark {\n  --logkitty-bg: #0b1622;\n  --logkitty-fg: #e6f7ff;\n  --logkitty-border: #20C9D2;\n  --logkitty-shadow: #0008;\n  --logkitty-error: #F26430; /* Puzzl orange */\n  --logkitty-error-bg: #3b1d14;\n  --logkitty-info: #20C9D2; /* Puzzl teal */\n  --logkitty-info-bg: #102f32;\n  --logkitty-warn: #FFD464; /* Puzzl yellow */\n  --logkitty-warn-bg: #3b340e;\n  --logkitty-debug: #a6c5cb;\n  --logkitty-debug-bg: #1b2b2c;\n  --logkitty-timestamp: #88c2cc;\n  --logkitty-toggle-bg: #1a1f1f;\n  --logkitty-toggle-hover: #2a2f2f;\n}\n\n@media (max-width: 700px) {\n  #logKitty {\n    font-size: 0.93em;\n    padding: 0.7em 0.3em 0.7em 0.6em;\n    max-height: 40vh;\n  }\n}\n`;\n  }\n}"],"names":[],"mappings":"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;AACA;AACA,EAAE,iBAAiB,GAAG;AACtB,IAAI,OAAO,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,EAAE;AACF;;;;"}